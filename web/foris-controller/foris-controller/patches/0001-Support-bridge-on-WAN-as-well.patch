From 87f4ec48458ca38b20ceb5672335c0b0ef601a48 Mon Sep 17 00:00:00 2001
From: Michal Hrusecky <michal.hrusecky@turris.com>
Date: Wed, 27 Aug 2025 09:12:40 +0200
Subject: [PATCH] Support bridge on WAN as well

---
 foris_controller_backends/networks/__init__.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/foris_controller_backends/networks/__init__.py b/foris_controller_backends/networks/__init__.py
index f7d9b49..9c8a573 100644
--- a/foris_controller_backends/networks/__init__.py
+++ b/foris_controller_backends/networks/__init__.py
@@ -72,7 +72,7 @@ class NetworksUci():
         ports = get_option_named(data,"network", device.replace("-", "_"), "ports", [])
 
         # by default migrated "br-lan" and "br-guest_turris" is anonymous
-        if section in ("lan", "guest_turris") and not ports and not interfaces:
+        if section in ("wan", "lan", "guest_turris") and not ports and not interfaces:
             ports = NetworksUci._get_anonymous_bridge_ports(data, section)
 
         res = []
-- 
2.51.0

